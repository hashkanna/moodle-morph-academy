<!DOCTYPE html>
<html>
<head>
    <title>Test Google Calendar API</title>
</head>
<body>
    <h1>Google Calendar API Test</h1>
    <button onclick="testApiKey()">Test API Key Only</button>
    <div id="result"></div>

    <script>
        function testApiKey() {
            const apiKey = 'AIzaSyCC6FYg_WIH2tnfmRXW44uByRH27EDsRtU';
            const url = `https://www.googleapis.com/calendar/v3/calendars/primary?key=${apiKey}`;
            
            console.log('Testing API key with URL:', url);
            
            fetch(url)
                .then(response => {
                    console.log('Response status:', response.status);
                    if (response.status === 401) {
                        document.getElementById('result').innerHTML = '<p style="color: red;">API Key failed - likely restricted or incorrect</p>';
                    } else if (response.status === 200) {
                        document.getElementById('result').innerHTML = '<p style="color: green;">API Key works! OAuth issue is separate.</p>';
                    } else {
                        document.getElementById('result').innerHTML = `<p style="color: orange;">Unexpected status: ${response.status}</p>`;
                    }
                    return response.text();
                })
                .then(data => {
                    console.log('Response data:', data);
                })
                .catch(error => {
                    console.error('Fetch error:', error);
                    document.getElementById('result').innerHTML = '<p style="color: red;">Network error or CORS issue</p>';
                });
        }
    </script>
</body>
</html>